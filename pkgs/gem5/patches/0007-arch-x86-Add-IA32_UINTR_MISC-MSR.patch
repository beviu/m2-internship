From 3ac9455f147205c17245a5f57954d3dae9ce5242 Mon Sep 17 00:00:00 2001
From: beviu <contact@beviu.com>
Date: Thu, 15 Jan 2026 15:10:19 +0100
Subject: [PATCH 07/19] arch-x86: Add IA32_UINTR_MISC MSR

---
 src/arch/x86/regs/misc.hh | 4 +++-
 src/arch/x86/regs/msr.cc  | 1 +
 2 files changed, 4 insertions(+), 1 deletion(-)

diff --git a/src/arch/x86/regs/misc.hh b/src/arch/x86/regs/misc.hh
index a5b37f5259..ced0853030 100644
--- a/src/arch/x86/regs/misc.hh
+++ b/src/arch/x86/regs/misc.hh
@@ -254,8 +254,10 @@ enum : RegIndex
     Mc7Misc,
     McMiscEnd,
 
+    UintrMisc = McMiscEnd,
+
     // Extended feature enable register
-    Efer = McMiscEnd,
+    Efer,
 
     Star,
     Lstar,
diff --git a/src/arch/x86/regs/msr.cc b/src/arch/x86/regs/msr.cc
index 7fdb8841fd..9ed12457bc 100644
--- a/src/arch/x86/regs/msr.cc
+++ b/src/arch/x86/regs/msr.cc
@@ -112,6 +112,7 @@ const MsrMap::value_type msrMapData[] = {
     MsrVal(0x417, misc_reg::Mc5Misc),
     MsrVal(0x41B, misc_reg::Mc6Misc),
     MsrVal(0x41F, misc_reg::Mc7Misc),
+    MsrVal(0x988, misc_reg::UintrMisc),
     MsrVal(0xC0000080, misc_reg::Efer),
     MsrVal(0xC0000081, misc_reg::Star),
     MsrVal(0xC0000082, misc_reg::Lstar),
-- 
2.52.0

